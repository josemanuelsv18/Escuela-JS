<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply Bind Call</title>
</head>
<body>
    <a href="/ejercicios/">Go back</a>
    <p><em>Abre la consola</em></p>

    <ul>
        <li><button class="call-to-action">Aprender</button></li>
        <li><button class="call-to-action">Aprender Más</button></li>
        <li><button class="call-to-action">¡Nunca Parar de Aprender!</button></li>
    </ul>
    <script>
        //establecer this usando call
        function saludar(){
            console.log(`Hola soy ${this.name} ${this.apellido}`);
        }

        const personaje = {
            name: 'Shisui',
            apellido: 'Uchiha'
        }

        saludar.call(personaje);
        
        // establece this usando call y pasar argumentos a la función
        function caminar(metros, direccion){
            console.log(`${this.name} camina ${metros} metros en hacia el ${direccion}`)
        }

        caminar.call(personaje, 400, 'norte');

        // establecer this usando apply y pasar argumentos a la función
            // caminar.apply(personaje, [600, 'sur']);
        const valores = [600, 'este'];
        caminar.apply(personaje, valores);

        /*
        Call = Comma
        Apply = Array
        */

        // establecer this usando en una nueva función usando bind
        const personaje2 = {
            name: 'Ragnar',
            apellido: 'Lothbrok'
        }
        const personaje2Saludo = saludar.bind(personaje2);
        personaje2Saludo();

            // const personaje2Camina = caminar.bind(personaje2);
            // personaje2Camina(2000, 'sur')
        const personaje2Camina = caminar.bind(personaje2, 2000, 'sur');
        personaje2Camina()

        // Cuando es util utilizar uno de estos metodos
        const buttons = document.getElementsByClassName("call-to-action");
            // buttons.array.forEach(button => {
            //     button.onclick = () => {
            //         alert('¡Nunca Pares De Aprender!');
            //     }
            // });
        //Node list
        Array.prototype.forEach.call(buttons, button => {
            button.onclick = () => {
            alert('¡Nunca Pares De Aprender!');
            }
        });
    </script>
</body>
</html>